@using SentientTwitter.Services
@using SentientTwitter.Data
@inject ModalService _modalService

<div class="row p-1">
    <div class="col-12 text-center">
        <h3>Flight Record details from @Model.TweetId</h3>
    </div>

    <div class="row mt-3 text-justify text-center">
        @if(Model.Status == HealthStatus.Healthy)
        {
            <span>Tweet has no issues, and is in a healthy state.</span>
        }
        else
        {
            <span class="text-danger">@(Model.Message ?? "No error information was provided.")</span>
        }
    </div>
</div>

<div class="top-row justify-content-center mt-4">
    <div class="col-12 text-center text-md-end">
        <button type="button" class="btn btn-block btn-link d-md-none text-secondary" @onclick="_ => Close()">Close</button>
        <button type="button" class="btn btn-block btn-link d-none d-md-inline text-secondary" @onclick="_ => Close()">Close</button>
    </div>
</div>

@code {
    [Parameter]
    public FlightRecord Model { get; set; }

    [Parameter]
    public Action<bool> Callback { get; set; }

    private void Close()
    {
        Callback.Invoke(true);
        _modalService.Hide();
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        var test = "hello";
    }
}
